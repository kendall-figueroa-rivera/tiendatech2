<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="es" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administraci贸n | TiendaTech2</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <header class="navbar">
        <h1> TiendaTech2 - Admin</h1>
        <nav>
            <a th:href="@{/}">Inicio</a>
            <a th:href="@{/admin}">Panel Admin</a>
            <a th:href="@{/admin/usuarios}">Usuarios</a>
            <a th:href="@{/admin/productos}">Productos</a>
            <a th:href="@{/admin/categorias}">Categor铆as</a>
            <a th:href="@{/admin/pedidos}">Pedidos</a>
            <a th:href="@{/admin/ofertas}">Ofertas</a>
            <a th:href="@{/logout}">Cerrar sesi贸n</a>
            <button id="theme-toggle" class="theme-toggle"></button>
        </nav>
    </header>

    <main class="contenido">
        <h2>Panel de Administraci贸n (HU9)</h2>

        <!-- Estad铆sticas -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
            <div style="background-color: var(--card-bg); padding: 1.5rem; border-radius: 10px; text-align: center;">
                <h3 style="font-size: 2rem; margin: 0;" th:text="${totalUsuarios}">0</h3>
                <p>Usuarios</p>
            </div>
            <div style="background-color: var(--card-bg); padding: 1.5rem; border-radius: 10px; text-align: center;">
                <h3 style="font-size: 2rem; margin: 0;" th:text="${totalProductos}">0</h3>
                <p>Productos</p>
            </div>
            <div style="background-color: var(--card-bg); padding: 1.5rem; border-radius: 10px; text-align: center;">
                <h3 style="font-size: 2rem; margin: 0;" th:text="${totalPedidos}">0</h3>
                <p>Pedidos</p>
            </div>
        </div>

        <!-- Alertas de Stock Bajo (HU12) -->
        <section th:if="${productosStockBajo != null && !productosStockBajo.isEmpty()}" style="background-color: #fff3cd; border: 2px solid #ffc107; padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
            <h3 style="color: #856404;">锔 Alertas de Stock Bajo (HU12)</h3>
            <div style="margin-top: 1rem;">
                <div th:each="producto : ${productosStockBajo}" style="background-color: white; padding: 1rem; border-radius: 5px; margin-bottom: 0.5rem;">
                    <p><strong th:text="${producto.nombre}"></strong> - Stock: <span style="color: #dc3545; font-weight: bold;" th:text="${producto.stock}"></span> 
                       (M铆nimo: <span th:text="${producto.stockMinimo}"></span>)</p>
                </div>
            </div>
        </section>

        <!-- Accesos r谩pidos -->
        <section style="background-color: var(--card-bg); padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
            <h3>Accesos R谩pidos</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1rem;">
                <a th:href="@{/admin/usuarios}" class="btn">Gesti贸n de Usuarios y Roles (HU2)</a>
                <a th:href="@{/admin/productos}" class="btn">Gesti贸n de Productos</a>
                <a th:href="@{/admin/categorias}" class="btn">Gesti贸n de Categor铆as (HU18)</a>
                <a th:href="@{/admin/pedidos}" class="btn">Gesti贸n de Pedidos</a>
                <a th:href="@{/admin/ofertas}" class="btn">Gesti贸n de Ofertas (HU17)</a>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 TiendaTech2. Todos los derechos reservados.</p>
    </footer>

    <script th:src="@{/js/theme.js}"></script>
</body>
</html>

